<div class="space-y-4">
  <!-- Empty State -->
  <div
    *ngIf="showEmptyState && listenings.length === 0"
    class="text-center py-8"
  >
    <h3 class="text-lg font-semibold mb-2">{{ emptyStateTitle }}</h3>
    <p class="text-muted-foreground mb-4">
      {{ emptyStateMessage }}
    </p>
    <button
      (click)="onAddFirstExercise()"
      class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90"
    >
      {{ emptyStateButtonText }}
    </button>
  </div>

  <!-- Listening Exercises List -->
  <div
    *ngFor="let listening of listenings"
    class="bg-white rounded-lg border p-6"
  >
    <div class="flex items-start justify-between">
      <div class="flex-1">
        <h3 *ngIf="listening.name" class="text-lg font-semibold mb-2">
          {{ listening.name }}
        </h3>
        <p class="text-muted-foreground mb-4">{{ listening.question }}</p>

        <!-- Image Preview -->
        <div *ngIf="listening.imageUrl" class="mb-4">
          <img
            [src]="listening.imageUrl"
            [alt]="listening.name || 'Listening Exercise Image'"
            [title]="listening.name"
            class="w-64 h-64 object-cover rounded-lg"
          />
        </div>

        <!-- Audio Preview -->
        <div class="mb-4" *ngIf="listening.audioUrl">
          <app-audio-player
            [src]="listening.audioUrl"
            [showTranscript]="true"
            [transcript]="listening.transcript"
            class="w-full"
          ></app-audio-player>
        </div>

        <!-- Options Preview -->
        <div class="mb-4">
          <h4 class="text-sm font-medium text-gray-700 mb-2">Options:</h4>
          <div class="grid grid-cols-2 gap-2">
            <div
              *ngFor="let option of listening.options | keyvalue"
              class="text-sm"
            >
              <span class="font-medium">{{ option.key }}:</span>
              {{ option.value }}
            </div>
          </div>
          <p class="text-sm mt-2">
            <span class="font-medium">Correct Answer:</span>
            {{ listening.correctAnswer }}
          </p>
          <p class="text-sm mt-2" *ngIf="listening.explaination">
            <span class="font-medium">Explanation:</span>
            {{ listening.explaination }}
          </p>
        </div>
      </div>

      <!-- Actions -->
    </div>
  </div>
</div>
