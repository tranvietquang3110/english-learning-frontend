<div class="space-y-4">
  <audio #audio [src]="src" preload="metadata"></audio>

  <div class="bg-white/5 border rounded-lg p-4 space-y-4">
    <!-- Controls -->
    <div class="flex items-center gap-4">
      <!-- Play/Pause -->
      <button
        type="button"
        (click)="togglePlayPause()"
        class="flex items-center gap-2 px-3 py-2 border rounded hover:bg-primary hover:text-white text-sm"
      >
        <fa-icon [icon]="isPlaying ? faPause : faPlay"></fa-icon>
        {{ isPlaying ? "Pause" : "Play" }}
      </button>

      <!-- Restart -->
      <button
        (click)="handleRestart()"
        class="flex items-center gap-2 px-3 py-2 border rounded hover:bg-primary hover:text-white text-sm"
      >
        <fa-icon [icon]="faRotateLeft"></fa-icon>
        Restart
      </button>

      <!-- Volume -->
      <div class="flex items-center gap-2 ml-auto">
        <button (click)="toggleMute()" class="p-2">
          <fa-icon [icon]="isMuted ? faVolumeMute : faVolumeUp"></fa-icon>
        </button>
        <input
          type="range"
          min="0"
          max="1"
          step="0.1"
          [value]="isMuted ? 0 : volume"
          (input)="handleVolumeChange($event)"
          class="w-20"
        />
      </div>
    </div>

    <!-- Progress Bar -->
    <div class="space-y-2">
      <input
        type="range"
        min="0"
        [max]="duration || 100"
        step="1"
        [value]="currentTime"
        (input)="handleSeek($event)"
        class="w-full"
      />
      <div class="flex justify-between text-xs text-gray-500">
        <span>{{ formatTime(currentTime) }}</span>
        <span>{{ formatTime(duration) }}</span>
      </div>
    </div>

    <!-- Transcript -->
    <div *ngIf="showTranscript && transcript" class="space-y-2">
      <button
        (click)="showTranscriptText = !showTranscriptText"
        class="text-xs px-2 py-1 border rounded hover:bg-gray-100"
      >
        {{ showTranscriptText ? "Hide" : "Show" }} Transcript
      </button>

      <div
        *ngIf="showTranscriptText"
        class="bg-gray-100 p-3 rounded text-sm leading-relaxed"
      >
        {{ transcript }}
      </div>
    </div>
  </div>
</div>
